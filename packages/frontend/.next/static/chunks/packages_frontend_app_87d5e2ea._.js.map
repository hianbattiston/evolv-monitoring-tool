{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/utils/dateUtils.ts"],"sourcesContent":["export function formatDistanceToNow(date: Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    year: '2-digit',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hour12: false,\n  }).format(date);\n}\n\nexport function formatDate(date: string | Date): string {\n  const dateObject = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true,\n  }).format(dateObject);\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,oBAAoB,IAAU;IAC5C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,QAAQ;IACV,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,WAAW,IAAmB;IAC5C,MAAM,aAAa,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IAC/D,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;IACV,GAAG,MAAM,CAAC;AACZ","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/icons/SunIcon.tsx"],"sourcesContent":["export default function SunIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"h-5 w-5 text-amber-400\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth={2}\n        d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBACE,kSAAC;QACC,OAAM;QACN,WAAU;QACV,MAAK;QACL,SAAQ;QACR,QAAO;kBAEP,cAAA,kSAAC;YACC,eAAc;YACd,gBAAe;YACf,aAAa;YACb,GAAE;;;;;;;;;;;AAIV;KAjBwB","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/icons/MoonIcon.tsx"],"sourcesContent":["export default function MoonIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"h-5 w-5 text-gray-700\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth={2}\n        d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\n      />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBACE,kSAAC;QACC,OAAM;QACN,WAAU;QACV,MAAK;QACL,SAAQ;QACR,QAAO;kBAEP,cAAA,kSAAC;YACC,eAAc;YACd,gBAAe;YACf,aAAa;YACb,GAAE;;;;;;;;;;;AAIV;KAjBwB","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTheme } from \"@/contexts/ThemeContext\";\nimport SunIcon from \"@/components/icons/SunIcon\";\nimport MoonIcon from \"@/components/icons/MoonIcon\";\n\nexport default function ThemeToggle() {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <button\n      onClick={toggleTheme}\n      className=\"cursor-pointer p-2 rounded-full bg-[var(--evolv-background)] hover:bg-[var(--evolv-background-alt)] dark:bg-[var(--evolv-background-dark)] dark:hover:bg-[var(--evolv-background-dark-alt)] border border-[var(--evolv-border)] dark:border-[var(--evolv-border-dark)] transition-all duration-300\"\n      aria-label={`Switch to ${theme === \"light\" ? \"dark\" : \"light\"} mode`}\n    >\n      {theme === \"light\" ? <MoonIcon /> : <SunIcon />}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,2JAAA,CAAA,WAAQ,AAAD;IAEtC,qBACE,kSAAC;QACC,SAAS;QACT,WAAU;QACV,cAAY,CAAC,UAAU,EAAE,UAAU,UAAU,SAAS,QAAQ,KAAK,CAAC;kBAEnE,UAAU,wBAAU,kSAAC,kKAAA,CAAA,UAAQ;;;;iCAAM,kSAAC,iKAAA,CAAA,UAAO;;;;;;;;;;AAGlD;GAZwB;;QACS,2JAAA,CAAA,WAAQ;;;KADjB","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/Header.tsx"],"sourcesContent":["import { formatDistanceToNow } from \"@/utils/dateUtils\";\nimport ThemeToggle from \"@/components/ThemeToggle\";\nimport { JSX } from \"react\";\n\ninterface HeaderProps {\n  lastUpdated: Date | null;\n}\n\nexport default function Header({ lastUpdated }: HeaderProps): JSX.Element {\n  return (\n    <header className=\"bg-[var(--evolv-card-background)] border-b border-[var(--evolv-border)] py-4 mb-6\">\n      <div className=\"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center\">\n        <div className=\"flex items-center mb-4 md:mb-0\">\n          <div className=\"mr-2 flex items-center\">\n            <h1 className=\"evolv-gradient-text text-3xl font-bold tracking-tight\">\n              Evolv\n            </h1>\n            <span className=\"ml-1 text-3xl font-light text-[var(--evolv-text)]\">\n              AI\n            </span>\n          </div>\n          <div className=\"h-6 w-px bg-[var(--evolv-border)] mx-4 hidden md:block\"></div>\n          <h2 className=\"text-xl text-[var(--evolv-text)] font-medium hidden md:block\">\n            Monitoring Tool\n          </h2>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2 bg-[var(--evolv-background-alt)] px-3 py-1.5 rounded-full text-sm border border-[var(--evolv-border)]\">\n            <span className=\"text-[var(--evolv-text-light)] font-medium\">\n              Last updated:\n            </span>\n            <span className=\"text-[var(--evolv-text)]\">\n              {lastUpdated ? formatDistanceToNow(lastUpdated) : \"Never\"}\n            </span>\n            {lastUpdated && (\n              <div className=\"h-2 w-2 rounded-full bg-green-500 animate-pulse\"></div>\n            )}\n          </div>\n          <ThemeToggle />\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAOe,SAAS,OAAO,EAAE,WAAW,EAAe;IACzD,qBACE,kSAAC;QAAO,WAAU;kBAChB,cAAA,kSAAC;YAAI,WAAU;;8BACb,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BAAI,WAAU;;8CACb,kSAAC;oCAAG,WAAU;8CAAwD;;;;;;8CAGtE,kSAAC;oCAAK,WAAU;8CAAoD;;;;;;;;;;;;sCAItE,kSAAC;4BAAI,WAAU;;;;;;sCACf,kSAAC;4BAAG,WAAU;sCAA+D;;;;;;;;;;;;8BAK/E,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BAAI,WAAU;;8CACb,kSAAC;oCAAK,WAAU;8CAA6C;;;;;;8CAG7D,kSAAC;oCAAK,WAAU;8CACb,cAAc,CAAA,GAAA,oJAAA,CAAA,sBAAmB,AAAD,EAAE,eAAe;;;;;;gCAEnD,6BACC,kSAAC;oCAAI,WAAU;;;;;;;;;;;;sCAGnB,kSAAC,4JAAA,CAAA,UAAW;;;;;;;;;;;;;;;;;;;;;;AAKtB;KApCwB","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/MetricsPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { Experiment, ExperimentMetrics } from '@shared/types/experiments';\n\ninterface MetricsPanelProps {\n  metrics: ExperimentMetrics | null;\n  experiment: Experiment;\n}\n\nexport default function MetricsPanel({ metrics }: MetricsPanelProps) {\n  const { totalVisitors, conversionRate, averageSessionDuration, revenuePerVisitor } = metrics || {};\n  \n  return (\n    <div className=\"bg-[var(--evolv-card-background)] shadow-[var(--evolv-shadow)] rounded-lg p-6 mt-6 border border-[var(--evolv-border)]\">\n      <h2 className=\"text-xl font-semibold mb-4 text-[var(--evolv-text)]\">Key Metrics</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <MetricCard \n          title=\"Total Visitors\" \n          value={totalVisitors || 0} \n          suffix=\"visitors\"\n          icon={<UserIcon />}\n        />\n        \n        <MetricCard \n          title=\"Conversion Rate\" \n          value={conversionRate?.toFixed(2) || 0} \n          suffix=\"%\"\n          icon={<ConversionIcon />}\n        />\n        \n        <MetricCard \n          title=\"Avg. Session Duration\" \n          value={formatDuration(averageSessionDuration || 0)}\n          icon={<TimeIcon />}\n        />\n        \n        <MetricCard \n          title=\"Revenue per Visitor\" \n          value={`$${revenuePerVisitor?.toFixed(2) || 0}`}\n          icon={<MoneyIcon />}\n        />\n      </div>\n    </div>\n  );\n}\n\ninterface MetricCardProps {\n  title: string;\n  value: number | string;\n  suffix?: string;\n  icon: React.ReactNode;\n}\n\nfunction MetricCard({ title, value, suffix, icon }: MetricCardProps) {\n  return (\n    <div className=\"bg-[var(--evolv-background-alt)] p-4 rounded-lg border border-[var(--evolv-border)] transition-all hover:shadow-[var(--evolv-shadow)]\">\n      <div className=\"flex items-center mb-2\">\n        <div className=\"text-[var(--evolv-primary)] mr-2\">{icon}</div>\n        <h3 className=\"text-sm font-medium text-[var(--evolv-text-light)]\">{title}</h3>\n      </div>\n      <div className=\"flex items-baseline\">\n        <p className=\"text-2xl font-bold text-[var(--evolv-text)]\">\n          {value}\n          {suffix && <span className=\"text-sm text-[var(--evolv-text-light)] ml-1\">{suffix}</span>}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction formatDuration(seconds: number): string {\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${mins}m ${secs}s`;\n}\n\n// Simple icons for metrics\nfunction UserIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n    </svg>\n  );\n}\n\nfunction ConversionIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n    </svg>\n  );\n}\n\nfunction TimeIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clipRule=\"evenodd\" />\n    </svg>\n  );\n}\n\nfunction MoneyIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n      <path d=\"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z\" />\n      <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z\" clipRule=\"evenodd\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AASe,SAAS,aAAa,EAAE,OAAO,EAAqB;IACjE,MAAM,EAAE,aAAa,EAAE,cAAc,EAAE,sBAAsB,EAAE,iBAAiB,EAAE,GAAG,WAAW,CAAC;IAEjG,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAG,WAAU;0BAAsD;;;;;;0BAEpE,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBACC,OAAM;wBACN,OAAO,iBAAiB;wBACxB,QAAO;wBACP,oBAAM,kSAAC;;;;;;;;;;kCAGT,kSAAC;wBACC,OAAM;wBACN,OAAO,gBAAgB,QAAQ,MAAM;wBACrC,QAAO;wBACP,oBAAM,kSAAC;;;;;;;;;;kCAGT,kSAAC;wBACC,OAAM;wBACN,OAAO,eAAe,0BAA0B;wBAChD,oBAAM,kSAAC;;;;;;;;;;kCAGT,kSAAC;wBACC,OAAM;wBACN,OAAO,CAAC,CAAC,EAAE,mBAAmB,QAAQ,MAAM,GAAG;wBAC/C,oBAAM,kSAAC;;;;;;;;;;;;;;;;;;;;;;AAKjB;KApCwB;AA6CxB,SAAS,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAmB;IACjE,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBAAI,WAAU;kCAAoC;;;;;;kCACnD,kSAAC;wBAAG,WAAU;kCAAsD;;;;;;;;;;;;0BAEtE,kSAAC;gBAAI,WAAU;0BACb,cAAA,kSAAC;oBAAE,WAAU;;wBACV;wBACA,wBAAU,kSAAC;4BAAK,WAAU;sCAA+C;;;;;;;;;;;;;;;;;;;;;;;AAKpF;MAfS;AAiBT,SAAS,eAAe,OAAe;IACrC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,OAAO,GAAG,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;AAC5B;AAEA,2BAA2B;AAC3B,SAAS;IACP,qBACE,kSAAC;QAAI,OAAM;QAA6B,WAAU;QAAU,SAAQ;QAAY,MAAK;kBACnF,cAAA,kSAAC;YAAK,UAAS;YAAU,GAAE;YAAsD,UAAS;;;;;;;;;;;AAGhG;MANS;AAQT,SAAS;IACP,qBACE,kSAAC;QAAI,OAAM;QAA6B,WAAU;QAAU,SAAQ;QAAY,MAAK;kBACnF,cAAA,kSAAC;YAAK,UAAS;YAAU,GAAE;YAAqH,UAAS;;;;;;;;;;;AAG/J;MANS;AAQT,SAAS;IACP,qBACE,kSAAC;QAAI,OAAM;QAA6B,WAAU;QAAU,SAAQ;QAAY,MAAK;kBACnF,cAAA,kSAAC;YAAK,UAAS;YAAU,GAAE;YAAqH,UAAS;;;;;;;;;;;AAG/J;MANS;AAQT,SAAS;IACP,qBACE,kSAAC;QAAI,OAAM;QAA6B,WAAU;QAAU,SAAQ;QAAY,MAAK;;0BACnF,kSAAC;gBAAK,GAAE;;;;;;0BACR,kSAAC;gBAAK,UAAS;gBAAU,GAAE;gBAAud,UAAS;;;;;;;;;;;;AAGjgB;MAPS","debugId":null}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/VisualizationSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\nimport { Bar, Line } from \"react-chartjs-2\";\nimport { Experiment } from \"@shared/types/experiments\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ninterface VisualizationSectionProps {\n  experiment: Experiment;\n}\n\nexport default function VisualizationSection({\n  experiment,\n}: VisualizationSectionProps) {\n  const [timeRange, setTimeRange] = useState<\"hour\" | \"day\">(\"hour\");\n  // Use this state to detect the current theme and update charts accordingly\n  const [theme, setTheme] = useState<\"light\" | \"dark\">(\"light\");\n\n  // Detect theme changes\n  useEffect(() => {\n    // Check initial theme\n    const documentTheme = document.documentElement.getAttribute(\"data-theme\");\n    if (documentTheme === \"dark\") {\n      setTheme(\"dark\");\n    }\n\n    // Create a MutationObserver to watch for theme attribute changes\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.attributeName === \"data-theme\") {\n          const newTheme = document.documentElement.getAttribute(\"data-theme\");\n          setTheme(newTheme === \"dark\" ? \"dark\" : \"light\");\n        }\n      });\n    });\n\n    // Start observing\n    observer.observe(document.documentElement, { attributes: true });\n\n    // Clean up observer on unmount\n    return () => observer.disconnect();\n  }, []);\n\n  const variantNames = experiment.variants.map((v) => v.name);\n  const variantVisitors = experiment.variants.map((v) => v.visitors);\n  const variantConversions = experiment.variants.map((v) => v.conversions);\n  const variantRevenue = experiment.variants.map((v) => v.revenue);\n\n  // Get trend data from live updates\n  const timestamps = experiment.liveUpdates.map((update) => {\n    const date = new Date(update.timestamp);\n    return date.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n  });\n\n  const controlVisitorsTrend = experiment.liveUpdates.map(\n    (update) => update.control.visitors\n  );\n  const variantVisitorsTrend = experiment.liveUpdates.map(\n    (update) => update.variantB.visitors\n  );\n\n  const controlConversionsTrend = experiment.liveUpdates.map(\n    (update) => update.control.conversions\n  );\n  const variantConversionsTrend = experiment.liveUpdates.map(\n    (update) => update.variantB.conversions\n  );\n\n  // Colors that work well in both light and dark themes\n  const barData = {\n    labels: variantNames,\n    datasets: [\n      {\n        label: \"Visitors\",\n        data: variantVisitors,\n        backgroundColor: \"rgba(27, 79, 210, 0.7)\", // Evolv primary color\n      },\n      {\n        label: \"Conversions\",\n        data: variantConversions,\n        backgroundColor: \"rgba(91, 110, 245, 0.7)\", // Evolv secondary color\n      },\n      {\n        label: \"Revenue ($)\",\n        data: variantRevenue,\n        backgroundColor: \"rgba(237, 109, 85, 0.7)\", // Evolv accent color\n      },\n    ],\n  };\n\n  const lineData = {\n    labels: timestamps,\n    datasets: [\n      {\n        label: \"Control Visitors\",\n        data: controlVisitorsTrend,\n        borderColor: \"rgb(27, 79, 210)\",\n        backgroundColor: \"rgba(27, 79, 210, 0.3)\",\n      },\n      {\n        label: \"Variant B Visitors\",\n        data: variantVisitorsTrend,\n        borderColor: \"rgb(91, 110, 245)\",\n        backgroundColor: \"rgba(91, 110, 245, 0.3)\",\n      },\n    ],\n  };\n\n  const conversionLineData = {\n    labels: timestamps,\n    datasets: [\n      {\n        label: \"Control Conversions\",\n        data: controlConversionsTrend,\n        borderColor: \"rgb(237, 109, 85)\",\n        backgroundColor: \"rgba(237, 109, 85, 0.3)\",\n      },\n      {\n        label: \"Variant B Conversions\",\n        data: variantConversionsTrend,\n        borderColor: \"rgb(186, 83, 112)\",\n        backgroundColor: \"rgba(186, 83, 112, 0.3)\",\n      },\n    ],\n  };\n\n  return (\n    <div className=\"bg-[var(--evolv-card-background)] shadow-[var(--evolv-shadow)] border border-[var(--evolv-border)] rounded-lg p-6\">\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6\">\n        <h2 className=\"text-xl font-semibold text-[var(--evolv-text)]\">\n          Experiment Performance\n        </h2>\n\n        <div className=\"flex space-x-2 mt-2 md:mt-0\">\n          <button\n            onClick={() => setTimeRange(\"hour\")}\n            className={`px-3 py-1 rounded text-sm transition-colors ${\n              timeRange === \"hour\"\n                ? \"bg-[var(--evolv-primary)] text-white\"\n                : \"bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]\"\n            }`}\n          >\n            Last Hour\n          </button>\n          <button\n            onClick={() => setTimeRange(\"day\")}\n            className={`px-3 py-1 rounded text-sm transition-colors ${\n              timeRange === \"day\"\n                ? \"bg-[var(--evolv-primary)] text-white\"\n                : \"bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]\"\n            }`}\n          >\n            Last Day\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-6\">\n        <div className=\"h-80\">\n          <h3 className=\"text-lg font-medium mb-2 text-[var(--evolv-text)]\">\n            Variant Comparison\n          </h3>\n          <div className=\"h-64 bg-[var(--evolv-background-alt)] p-2 rounded-lg border border-[var(--evolv-border)]\">\n            <Bar\n              data={barData}\n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                  x: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                  y: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                },\n                plugins: {\n                  legend: {\n                    labels: {\n                      color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\",\n                    },\n                  },\n                  tooltip: {\n                    callbacks: {\n                      label: function (context) {\n                        const label = context.dataset.label || \"\";\n                        const value = context.parsed.y;\n                        if (label === \"Revenue ($)\") {\n                          return `${label}: $${value}`;\n                        }\n                        return `${label}: ${value}`;\n                      },\n                    },\n                  },\n                },\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"h-80\">\n          <h3 className=\"text-lg font-medium mb-2 text-[var(--evolv-text)]\">\n            Visitors Trend\n          </h3>\n          <div className=\"h-64 bg-[var(--evolv-background-alt)] p-2 rounded-lg border border-[var(--evolv-border)]\">\n            <Line\n              data={lineData}\n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                  x: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                  y: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                },\n                plugins: {\n                  legend: {\n                    labels: {\n                      color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\",\n                    },\n                  },\n                },\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"h-80\">\n          <h3 className=\"text-lg font-medium mb-2 text-[var(--evolv-text)]\">\n            Conversions Trend\n          </h3>\n          <div className=\"h-64 bg-[var(--evolv-background-alt)] p-2 rounded-lg border border-[var(--evolv-border)]\">\n            <Line\n              data={conversionLineData}\n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                  x: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                  y: {\n                    ticks: { color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\" },\n                  },\n                },\n                plugins: {\n                  legend: {\n                    labels: {\n                      color: theme === \"dark\" ? \"#e2e8f0\" : \"#334155\",\n                    },\n                  },\n                },\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/EventLogPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { EventLog } from '@shared/types/experiments';\nimport { formatDate } from '@/utils/dateUtils';\n\ninterface EventLogPanelProps {\n  logs: EventLog[];\n}\n\nexport default function EventLogPanel({ logs }: EventLogPanelProps) {\n  const [filter, setFilter] = useState<string>('all');\n  \n  const filteredLogs = filter === 'all' \n    ? logs \n    : logs.filter(log => log.eventType === filter);\n  \n  return (\n    <div className=\"bg-[var(--evolv-card-background)] shadow-[var(--evolv-shadow)] border border-[var(--evolv-border)] rounded-lg p-6 h-full\">\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-4\">\n        <h2 className=\"text-xl font-semibold text-[var(--evolv-text)]\">Event Log</h2>\n        \n        <div className=\"flex space-x-2 mt-2 md:mt-0 text-sm\">\n          <button\n            onClick={() => setFilter('all')}\n            className={`px-2 py-1 rounded transition-colors ${filter === 'all' ? 'bg-[var(--evolv-primary)] text-white' : 'bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]'}`}\n          >\n            All\n          </button>\n          <button\n            onClick={() => setFilter('visitor')}\n            className={`px-2 py-1 rounded transition-colors ${filter === 'visitor' ? 'bg-[var(--evolv-primary)] text-white' : 'bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]'}`}\n          >\n            Visitors\n          </button>\n          <button\n            onClick={() => setFilter('conversion')}\n            className={`px-2 py-1 rounded transition-colors ${filter === 'conversion' ? 'bg-[var(--evolv-primary)] text-white' : 'bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]'}`}\n          >\n            Conversions\n          </button>\n          <button\n            onClick={() => setFilter('milestone')}\n            className={`px-2 py-1 rounded transition-colors ${filter === 'milestone' ? 'bg-[var(--evolv-primary)] text-white' : 'bg-[var(--evolv-background-alt)] text-[var(--evolv-text)]'}`}\n          >\n            Milestones\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"overflow-y-auto max-h-[600px] pr-2\">\n        {filteredLogs.length > 0 ? (\n          <ul className=\"space-y-3\">\n            {filteredLogs.map((log) => (\n              <LogItem key={log.id} log={log} />\n            ))}\n          </ul>\n        ) : (\n          <div className=\"text-center py-6 text-[var(--evolv-text-light)]\">\n            No logs available\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\ninterface LogItemProps {\n  log: EventLog;\n}\n\nfunction LogItem({ log }: LogItemProps) {\n  const getEventTypeColor = (type: string) => {\n    // These colors work well in both light and dark mode\n    switch(type) {\n      case 'visitor': return 'bg-blue-100/80 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\n      case 'conversion': return 'bg-green-100/80 text-green-800 dark:bg-green-900/30 dark:text-green-300';\n      case 'milestone': return 'bg-purple-100/80 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300';\n      case 'revenue': return 'bg-yellow-100/80 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300';\n      default: return 'bg-gray-100/80 text-gray-800 dark:bg-gray-800/50 dark:text-gray-300';\n    }\n  };\n  \n  return (\n    <li className=\"border border-[var(--evolv-border)] rounded-lg p-3 hover:bg-[var(--evolv-background-alt)] transition-colors duration-150\">\n      <div className=\"flex justify-between items-start mb-2\">\n        <span className={`px-2 py-1 rounded text-xs font-medium ${getEventTypeColor(log.eventType)}`}>\n          {log.eventType.charAt(0).toUpperCase() + log.eventType.slice(1)}\n        </span>\n        <span className=\"text-xs text-[var(--evolv-text-light)]\">{formatDate(log.timestamp)}</span>\n      </div>\n      <p className=\"text-sm text-[var(--evolv-text)]\">{log.message}</p>\n      {log.data && (\n        <div className=\"mt-2 text-xs bg-[var(--evolv-background-alt)] p-2 rounded border border-[var(--evolv-border)]\">\n          <pre className=\"whitespace-pre-wrap text-[var(--evolv-text-light)]\">{JSON.stringify(log.data, null, 2)}</pre>\n        </div>\n      )}\n    </li>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;;;AAJA;;;AAUe,SAAS,cAAc,EAAE,IAAI,EAAsB;;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD,EAAU;IAE7C,MAAM,eAAe,WAAW,QAC5B,OACA,KAAK,MAAM,CAAC,CAAA,MAAO,IAAI,SAAS,KAAK;IAEzC,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBAAG,WAAU;kCAAiD;;;;;;kCAE/D,kSAAC;wBAAI,WAAU;;0CACb,kSAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,oCAAoC,EAAE,WAAW,QAAQ,yCAAyC,6DAA6D;0CAC5K;;;;;;0CAGD,kSAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,oCAAoC,EAAE,WAAW,YAAY,yCAAyC,6DAA6D;0CAChL;;;;;;0CAGD,kSAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,oCAAoC,EAAE,WAAW,eAAe,yCAAyC,6DAA6D;0CACnL;;;;;;0CAGD,kSAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,oCAAoC,EAAE,WAAW,cAAc,yCAAyC,6DAA6D;0CAClL;;;;;;;;;;;;;;;;;;0BAML,kSAAC;gBAAI,WAAU;0BACZ,aAAa,MAAM,GAAG,kBACrB,kSAAC;oBAAG,WAAU;8BACX,aAAa,GAAG,CAAC,CAAC,oBACjB,kSAAC;4BAAqB,KAAK;2BAAb,IAAI,EAAE;;;;;;;;;yCAIxB,kSAAC;oBAAI,WAAU;8BAAkD;;;;;;;;;;;;;;;;;AAO3E;GAvDwB;KAAA;AA6DxB,SAAS,QAAQ,EAAE,GAAG,EAAgB;IACpC,MAAM,oBAAoB,CAAC;QACzB,qDAAqD;QACrD,OAAO;YACL,KAAK;gBAAW,OAAO;YACvB,KAAK;gBAAc,OAAO;YAC1B,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAW,OAAO;YACvB;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,kSAAC;QAAG,WAAU;;0BACZ,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBAAK,WAAW,CAAC,sCAAsC,EAAE,kBAAkB,IAAI,SAAS,GAAG;kCACzF,IAAI,SAAS,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,SAAS,CAAC,KAAK,CAAC;;;;;;kCAE/D,kSAAC;wBAAK,WAAU;kCAA0C,CAAA,GAAA,oJAAA,CAAA,aAAU,AAAD,EAAE,IAAI,SAAS;;;;;;;;;;;;0BAEpF,kSAAC;gBAAE,WAAU;0BAAoC,IAAI,OAAO;;;;;;YAC3D,IAAI,IAAI,kBACP,kSAAC;gBAAI,WAAU;0BACb,cAAA,kSAAC;oBAAI,WAAU;8BAAsD,KAAK,SAAS,CAAC,IAAI,IAAI,EAAE,MAAM;;;;;;;;;;;;;;;;;AAK9G;MA5BS","debugId":null}},
    {"offset": {"line": 1154, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/config.ts"],"sourcesContent":["// Dynamic configuration for the frontend\n\n// Try to connect to the backend service on various ports if the main one fails\nexport const getBackendUrl = () => {\n  // First check if there's an environment variable\n  if (process.env.NEXT_PUBLIC_API_URL) {\n    return process.env.NEXT_PUBLIC_API_URL;\n  }\n  \n  // For development, we'll try ports 5001, 5002, and 5003 in order\n  // This mirrors the backend's port fallback mechanism\n  if (process.env.NODE_ENV === 'development') {\n    const hostname = typeof window !== 'undefined' ? window.location.hostname : 'localhost';\n    return `http://${hostname}:5003`; // Using 5003 since we saw the server running on this port\n  }\n  \n  // Default fallback\n  return 'http://localhost:5001';\n};\n\nconst config = {\n  backendUrl: getBackendUrl(),\n};\n\nexport default config;\n"],"names":[],"mappings":"AAAA,yCAAyC;AAEzC,+EAA+E;;;;;AAGzE;AAFC,MAAM,gBAAgB;IAC3B,iDAAiD;IACjD,wCAAqC;QACnC;IACF;;AAWF;AAEA,MAAM,SAAS;IACb,YAAY;AACd;uCAEe","debugId":null}},
    {"offset": {"line": 1181, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/hooks/useExperimentData.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { Experiment, EventLog, ExperimentMetrics } from '@shared/types/experiments';\nimport { getBackendUrl } from '../config';\n\nconst API_URL = getBackendUrl();\n\nexport interface IUseExperimentData {\n  experiments: Experiment[];\n  metrics: ExperimentMetrics | null;\n  logs: EventLog[];\n  loading: boolean;\n  error: string | null;\n}\n\nexport function useExperimentData(): IUseExperimentData {\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [experiments, setExperiments] = useState<Experiment[]>([]);\n  const [metrics, setMetrics] = useState<ExperimentMetrics | null>(null);\n  const [logs, setLogs] = useState<EventLog[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const socketInstance = io(API_URL);\n    setSocket(socketInstance);\n\n    return () => {\n      socketInstance.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!socket) return;\n\n    socket.on('experimentUpdate', (updatedExperiments: Experiment[]) => {\n      setExperiments(updatedExperiments);\n      setLoading(false);\n    });\n\n    socket.on('newLog', (newLog: EventLog) => {\n      setLogs(prevLogs => [newLog, ...prevLogs].slice(0, 100));\n    });\n\n    socket.on('connect_error', (err) => {\n      console.error('Socket connection error:', err);\n      setError('Failed to connect to the server');\n      setLoading(false);\n    });\n\n    return () => {\n      socket.off('experimentUpdate');\n      socket.off('newLog');\n      socket.off('connect_error');\n    };\n  }, [socket]);\n\n  useEffect(() => {\n    async function fetchInitialData() {\n      try {\n        const experimentsResponse = await fetch(`${API_URL}/api/experiments/live`);\n        if (!experimentsResponse.ok) throw new Error('Failed to fetch experiments');\n        const experimentsData = await experimentsResponse.json();\n        setExperiments(experimentsData);\n\n        if (experimentsData.length > 0) {\n          const experimentId = experimentsData[0].experimentId;\n          const metricsResponse = await fetch(`${API_URL}/api/experiments/${experimentId}/metrics`);\n          if (!metricsResponse.ok) throw new Error('Failed to fetch metrics');\n          const metricsData = await metricsResponse.json();\n          setMetrics(metricsData);\n\n          const sampleLogs: EventLog[] = [\n            {\n              id: '1',\n              experimentId,\n              timestamp: new Date().toISOString(),\n              eventType: 'visitor',\n              message: 'New visitor in Control group'\n            },\n            {\n              id: '2',\n              experimentId,\n              timestamp: new Date(Date.now() - 60000).toISOString(),\n              eventType: 'conversion',\n              message: 'Conversion in Variant B group'\n            },\n            {\n              id: '3',\n              experimentId,\n              timestamp: new Date(Date.now() - 120000).toISOString(),\n              eventType: 'milestone',\n              message: 'Experiment reached 1000 total visitors'\n            }\n          ];\n          setLogs(sampleLogs);\n        }\n\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching initial data:', err);\n        setError('Failed to fetch experiment data');\n        setLoading(false);\n      }\n    }\n\n    fetchInitialData();\n  }, []);\n\n  return { experiments, metrics, logs, loading, error };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1317, "column": 0}, "map": {"version":3,"sources":["file:///Users/hianbattiston/Documents/apps/evolv-monitoring-tool/packages/frontend/app/components/Dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, JSX } from \"react\";\nimport Header from \"@/components/Header\";\nimport MetricsPanel from \"@/components/MetricsPanel\";\nimport VisualizationSection from \"@/components/VisualizationSection\";\nimport EventLogPanel from \"@/components/EventLogPanel\";\nimport { useExperimentData } from \"@/hooks/useExperimentData\";\n\nexport default function Dashboard(): JSX.Element {\n  const { experiments, metrics, logs, loading, error } = useExperimentData();\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\n\n  useEffect(() => {\n    if (experiments.length > 0) {\n      setLastUpdated(new Date());\n    }\n  }, [experiments]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          <p>Error loading experiment data. Please try again later.</p>\n        </div>\n      </div>\n    );\n  }\n\n  const activeExperiment = experiments[0] || null;\n\n  return (\n    <div className=\"min-h-screen bg-[var(--evolv-background)]\">\n      <Header lastUpdated={lastUpdated} />\n\n      <div className=\"container mx-auto px-4 py-6 max-w-screen-xl\">\n        {activeExperiment ? (\n          <>\n            <div className=\"mb-6\">\n              <h1 className=\"text-2xl font-semibold text-[var(--evolv-text)]\">\n                Experiment Dashboard\n              </h1>\n              <p className=\"text-[var(--evolv-text-light)] mt-1\">\n                Monitor and analyze your active experiments in real-time\n              </p>\n            </div>\n\n            <MetricsPanel metrics={metrics} experiment={activeExperiment} />\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-8\">\n              <div className=\"lg:col-span-2\">\n                <VisualizationSection experiment={activeExperiment} />\n              </div>\n              <div className=\"lg:col-span-1\">\n                <EventLogPanel logs={logs} />\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"p-8 text-center border border-[var(--evolv-border)] bg-[var(--evolv-card-background)] rounded-lg shadow-md\">\n            <div className=\"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-8 w-8 text-blue-500\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                />\n              </svg>\n            </div>\n            <h2 className=\"text-xl font-semibold text-[var(--evolv-text)] mb-2\">\n              No Active Experiments\n            </h2>\n            <p className=\"text-[var(--evolv-text-light)] mb-6\">\n              There are currently no active experiments to monitor.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,oBAAiB,AAAD;IACvE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,kQAAA,CAAA,WAAQ,AAAD,EAAe;IAE5D,CAAA,GAAA,kQAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,YAAY,MAAM,GAAG,GAAG;gBAC1B,eAAe,IAAI;YACrB;QACF;8BAAG;QAAC;KAAY;IAEhB,IAAI,SAAS;QACX,qBACE,kSAAC;YAAI,WAAU;sBACb,cAAA,kSAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,OAAO;QACT,qBACE,kSAAC;YAAI,WAAU;sBACb,cAAA,kSAAC;gBAAI,WAAU;0BACb,cAAA,kSAAC;8BAAE;;;;;;;;;;;;;;;;IAIX;IAEA,MAAM,mBAAmB,WAAW,CAAC,EAAE,IAAI;IAE3C,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC,uJAAA,CAAA,UAAM;gBAAC,aAAa;;;;;;0BAErB,kSAAC;gBAAI,WAAU;0BACZ,iCACC;;sCACE,kSAAC;4BAAI,WAAU;;8CACb,kSAAC;oCAAG,WAAU;8CAAkD;;;;;;8CAGhE,kSAAC;oCAAE,WAAU;8CAAsC;;;;;;;;;;;;sCAKrD,kSAAC,6JAAA,CAAA,UAAY;4BAAC,SAAS;4BAAS,YAAY;;;;;;sCAE5C,kSAAC;4BAAI,WAAU;;8CACb,kSAAC;oCAAI,WAAU;8CACb,cAAA,kSAAC,qKAAA,CAAA,UAAoB;wCAAC,YAAY;;;;;;;;;;;8CAEpC,kSAAC;oCAAI,WAAU;8CACb,cAAA,kSAAC,8JAAA,CAAA,UAAa;wCAAC,MAAM;;;;;;;;;;;;;;;;;;iDAK3B,kSAAC;oBAAI,WAAU;;sCACb,kSAAC;4BAAI,WAAU;sCACb,cAAA,kSAAC;gCACC,OAAM;gCACN,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,kSAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;sCAIR,kSAAC;4BAAG,WAAU;sCAAsD;;;;;;sCAGpE,kSAAC;4BAAE,WAAU;sCAAsC;;;;;;;;;;;;;;;;;;;;;;;AAQ/D;GAtFwB;;QACiC,4JAAA,CAAA,oBAAiB;;;KADlD","debugId":null}}]
}